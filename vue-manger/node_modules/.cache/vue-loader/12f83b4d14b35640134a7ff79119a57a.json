{"remainingRequest":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/diamond/桌面/staffGaugesurvey/vue-manger/src/components/Register.vue?vue&type=style&index=1&id=7bf3755a&lang=scss&scoped=true&","dependencies":[{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/src/components/Register.vue","mtime":1586327585675},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/css-loader/dist/cjs.js","mtime":1586090628380},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1586090630070},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/postcss-loader/src/index.js","mtime":1586090629563},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/sass-loader/dist/cjs.js","mtime":1586090629926},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js","mtime":1586090628216},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js","mtime":1586090630070}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8qIOS/ruWkjWlucHV0IOiDjOaZr+S4jeWNj+iwgyDlkozlhYnmoIflj5joibIgKi8KLyogRGV0YWlsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vUGFuSmlhQ2hlbi92dWUtZWxlbWVudC1hZG1pbi9wdWxsLzkyNyAqLwoKJGJnOiAjZmZmOwokbGlnaHRfZ3JheTogIzA1MDUwNTsKJGN1cnNvcjogIzAwMDsKCkBzdXBwb3J0cyAoLXdlYmtpdC1tYXNrOiBub25lKSBhbmQgKG5vdCAoY2F0ZXItY29sb3I6ICRjdXJzb3IpKSB7CiAgLnJlZ2lzdGVyLWNvbnRhaW5lciAuZWwtaW5wdXQgaW5wdXQgewogICAgY29sb3I6ICRjdXJzb3I7CiAgfQp9CgovKiByZXNldCBlbGVtZW50LXVpIGNzcyAqLwovKi5yZWdpc3Rlci1jb250YWluZXIgeyovCi5lbC1pbnB1dCB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGhlaWdodDogNDdweDsKICB3aWR0aDogODUlOwogIC8qYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyovCgogIGlucHV0IHsKICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgYm9yZGVyOiAwcHg7CiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgICBib3JkZXItcmFkaXVzOiAyMHB4OwogICAgcGFkZGluZzogMTJweCA1cHggMTJweCAxNXB4OwogICAgY29sb3I6ICRsaWdodF9ncmF5OwogICAgaGVpZ2h0OiA0N3B4OwogICAgY2FyZXQtY29sb3I6ICRjdXJzb3I7CgogICAgJjotd2Via2l0LWF1dG9maWxsIHsKICAgICAgYm94LXNoYWRvdzogMCAwIDBweCAxMDAwcHggJGJnIGluc2V0ICFpbXBvcnRhbnQ7CiAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiAkY3Vyc29yICFpbXBvcnRhbnQ7CiAgICB9CiAgfQp9CgouZWwtZm9ybS1pdGVtIHsKICBib3JkZXI6IDFweCBzb2xpZDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7CiAgYm9yZGVyLXJhZGl1czogNTBweDsKICAvKmNvbG9yOiAjMTFmZjIyOyovCn0KCi5lbC1mb3JtLWl0ZW1fX2Vycm9yIHsKICBwYWRkaW5nLWxlZnQ6IDMwcHg7CiAgY29sb3I6IG9yYW5nZXJlZCAhaW1wb3J0YW50Owp9CgovKn0qLwo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8OA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"register-container\">\n    <img src=\"../assets/background.jpg\">\n    <div class=\"register-box\">\n      <div class=\"title-container\" style=\"\">\n        <img src=\"../assets/logo_web.png\">\n        <!--          <h3 class=\"title\">水尺识别系统</h3>-->\n      </div>\n      <div>\n        <el-form class=\"register-form\" ref=\"registerForm\" :model=\"registerForm\" :rules=\"registerRules\"\n                 auto-complete=\"on\" label-position=\"left\">\n          <el-form-item prop=\"mail\">\n            <el-input v-model=\"email\" prefix-icon=\"iconfont icon-mail_fill\" placeholder=\"邮箱\"/>\n          </el-form-item>\n          <el-form-item prop=\"username\">\n            <el-input v-model=\"registerForm.username\" prefix-icon=\"iconfont icon-people_fill\"\n                      placeholder=\"用户名\"></el-input>\n          </el-form-item>\n          <el-form-item prop=\"password\">\n            <el-input\n              v-model=\"registerForm.password\"\n              prefix-icon=\"iconfont icon-lock_fill\"\n              placeholder=\"密码\"\n              type=\"password\"\n              show-password\n              @keyup.enter.native=\"handleregister\"\n            />\n          </el-form-item>\n          <el-form-item prop=\"verifyCode\">\n            <el-input v-model=\"registerForm.Code\" placeholder=\"验证码\">\n            </el-input>\n          </el-form-item>\n          <el-button style=\"width:100%;margin-bottom:30px;border-radius: 20px;\" type=\"primary\"\n                     @click.native.prevent=\"sendCode\">发送验证码\n          </el-button>\n          <div style=\"height: 30px\">\n            <el-button type=\"primary\" style=\"width:100%;margin-bottom:30px;border-radius: 20px;\"\n                       @click.native.prevent=\"handleRegister\">注册\n            </el-button>\n          </div>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'Register',\n    data() {\n      return {\n        // 登录表单数据对象\n        registerForm: {\n          mail: '1163107972@qq.com',\n          username: '傅杰青',\n          password: '123456',\n          Code: '',\n          verifyCode_status: false,\n          isRemember: '0'\n        },\n        email: \"1163107972@qq.com\",\n        serverCode: \"\",\n        registerRules: {\n          mail: [\n            {required: true, message: '请输入邮箱地址', trigger: 'blur'},\n            {type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change']}\n          ],\n          username: [\n            {required: true, message: '请输入用户名!', trigger: 'blur'},\n            {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\n          ],\n          password: [\n            {required: true, message: '请输入密码!', trigger: 'blur'},\n            {min: 6, message: '至少6个字符以上', trigger: 'blur'}\n          ]\n        }\n      }\n    },\n    methods: {\n      handleRegister() {\n        this.$refs.registerForm.validate(async valid => {\n          if (!valid) return\n          const response = await this.$http.post('user/register', this.registerForm)\n          const {data: result} = response\n          if (result.code === 200) {\n            const {data: loginRes} = await this.$http.post('user/login', this.loginForm)\n            if (loginRes.code === 200) {\n              window.sessionStorage.setItem('head', loginRes.head)\n              window.sessionStorage.setItem('token', loginRes.token_id)\n              window.sessionStorage.setItem('permission', loginRes.permission)\n              window.sessionStorage.setItem('username', loginRes.username)\n              this.$message.success('注册成功')\n              this.$router.push({path: '/index'})\n            } else {\n              this.$message.error('登录失败')\n              this.$router.push('/login')\n            }\n          } else if (result.code === 500) return this.$message.error(result.msg)\n          else {\n            return this.$message.info('服务器异常')\n          }\n        })\n      },\n      sendCode() {\n        this.$refs.registerForm.validate(async valid => {\n          if (!valid) return\n          const response = await this.$http.post('user/verifyCode', this.registerForm)\n          const {data: res} = response\n          console.log(res)\n          if (res.code == 200) this.$message.success(res.msg)\n          else if (res.code) this.$message.error(res.msg)\n          else this.$message.info(res.msg)\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n\n  .register-container {\n    /*min-height: 100%;*/\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n\n    img {\n      height: 100%;\n      width: 100%;\n      border: 0px;\n      vertical-align: middle;\n      /*overflow: hidden;*/\n    }\n\n    /*overflow: hidden;*/\n  }\n\n  .register-box {\n    /*position: relative;*/\n    width: 400px;\n    height: 60%;\n    /*background-color: #fff;*/\n    border-radius: 3px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    /*padding: 160px 35px 0;*/\n    /*margin: 0 auto;*/\n    /*overflow: hidden;*/\n  }\n\n  .tips {\n    font-size: 26px;\n    color: #f00;\n    margin-bottom: 10px;\n\n    span {\n      &:first-of-type {\n        margin-right: 16px;\n      }\n    }\n  }\n\n  .title-container {\n    height: 130px;\n    width: 130px;\n    border-radius: 50%;\n    /*border: 1px solid #eee;*/\n    padding: 30px;\n    /*box-shadow: 0 0 10px #ddd;*/\n    /*position: relative;*/\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    /*background-color: #fff;*/\n\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      /*background-color: #eeeeee;*/\n    }\n\n    /*.title {*/\n    /*  font-size: 23px;*/\n    /*  color: #409EFF;*/\n    /*  margin: 0px auto 10px auto;*/\n    /*  text-align: center;*/\n    /*  font-weight: bold;*/\n    /*}*/\n  }\n\n  .register-form {\n    /*position: absolute;*/\n    bottom: 0;\n    width: 100%;\n    padding: 30px 20px 0 20px;\n    box-sizing: border-box;\n    margin-top: 50px;\n  }\n\n  /*.tips {*/\n  /*  font-size: 14px;*/\n  /*  color: #fff;*/\n  /*  margin-bottom: 10px;*/\n\n  /*  span {*/\n  /*    &:first-of-type {*/\n  /*      margin-right: 16px;*/\n  /*    }*/\n  /*  }*/\n  /*}*/\n  .show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: #889aa4;\n    cursor: pointer;\n    user-select: none;\n  }\n</style>\n<!--<style lang=\"css\" scoped>-->\n<!--  .register-el-input >>> el-input.test-el-input{-->\n<!--    display: inline-block;-->\n<!--    border: 2px solid;-->\n<!--    height: 47px;-->\n<!--    width: 85%;-->\n<!--    border-radius: 50px;-->\n<!--  }-->\n<!--  .register-el-form-item /deep/ .el-form-item{-->\n<!--    border: 1px solid rgba(0, 0, 0, 1);-->\n<!--    background: rgba(255, 255, 255, 0.5);-->\n<!--    border-radius: 50px;-->\n<!--  }-->\n<!--</style>-->\n<style lang=\"scss\" scoped>\n  /* 修复input 背景不协调 和光标变色 */\n  /* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\n\n  $bg: #fff;\n  $light_gray: #050505;\n  $cursor: #000;\n\n  @supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\n    .register-container .el-input input {\n      color: $cursor;\n    }\n  }\n\n  /* reset element-ui css */\n  /*.register-container {*/\n  .el-input {\n    display: inline-block;\n    height: 47px;\n    width: 85%;\n    /*background-color: rgba(0,0,0,0.5);*/\n\n    input {\n      background: transparent;\n      border: 0px;\n      -webkit-appearance: none;\n      border-radius: 20px;\n      padding: 12px 5px 12px 15px;\n      color: $light_gray;\n      height: 47px;\n      caret-color: $cursor;\n\n      &:-webkit-autofill {\n        box-shadow: 0 0 0px 1000px $bg inset !important;\n        -webkit-text-fill-color: $cursor !important;\n      }\n    }\n  }\n\n  .el-form-item {\n    border: 1px solid;\n    background: rgba(255, 255, 255, 0.8);\n    border-radius: 50px;\n    /*color: #11ff22;*/\n  }\n\n  .el-form-item__error {\n    padding-left: 30px;\n    color: orangered !important;\n  }\n\n  /*}*/\n</style>\n"]}]}