{"remainingRequest":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/src/components/Login.vue","mtime":1585747213796},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js","mtime":1585479022913},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/babel-loader/lib/index.js","mtime":1585479022801},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js","mtime":1585479022913},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js","mtime":1585479024213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g55m75b2V6KGo5Y2V5pWw5o2u5a+56LGhCiAgICAgIGxvZ2luRm9ybTogewogICAgICAgIHVzZXJuYW1lOiAn5YKF5p2w6Z2SJywKICAgICAgICBwYXNzd29yZDogJzEyMzQ1NicsCiAgICAgICAgaXNSZW1lbWJlcjogJzAnCiAgICAgIH0sCiAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjSEnLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgIHsgbWluOiAzLCBtYXg6IDEwLCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDMg5YiwIDEwIOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggSEnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlTG9naW4gKCkgewogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJ3VzZXIvbG9naW4nLCB0aGlzLmxvZ2luRm9ybSkKICAgICAgICBjb25zdCB7IGRhdGE6IHJlc3VsdCB9ID0gcmVzcG9uc2UKICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpCiAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdoZWFkJywgcmVzdWx0LmhlYWQpCiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGVybWlzc2lvbicscmVzdWx0LnBlcm1pc3Npb24pCiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLHJlc3VsdC51c2VybmFtZSkKICAgICAgICAgIGlmICh0aGlzLmxvZ2luRm9ybS5pc1JlbWVtYmVyID09PSAnMScpIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3VsdC50b2tlbl9pZCkKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn55m75b2V5oiQ5YqfJykKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9pbmRleCcgfSkKICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5jb2RlID09PSA1MDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5tc2cpCiAgICAgICAgZWxzZSB7IHJldHVybiB0aGlzLiRtZXNzYWdlLmluZm8oJ+acjeWKoeWZqOW8guW4uCcpIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVSZWdpc3RlciAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVnaXN0ZXInKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"login-container\">\n      <img src=\"../assets/background.jpg\">\n      <div class=\"login-box\">\n        <div class=\"title-container\" style=\"\">\n          <img src=\"../assets/logo_web.png\">\n<!--          <h3 class=\"title\">水尺识别系统</h3>-->\n        </div>\n        <div>\n          <el-form class=\"login-form\" ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" auto-complete=\"on\" label-position=\"left\">\n            <el-form-item prop=\"username\">\n              <el-input v-model=\"loginForm.username\" prefix-icon=\"iconfont icon-people_fill\" placeholder=\"用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input\n                v-model=\"loginForm.password\"\n                prefix-icon=\"iconfont icon-lock_fill\"\n                placeholder=\"密码\"\n                type=\"password\"\n                show-password\n                @keyup.enter.native=\"handleLogin\"\n              />\n            </el-form-item>\n            <div style=\"height: 30px\">\n              <el-checkbox  v-model=\"loginForm.isRemember\" true-label=\"1\" false-label=\"0\" style=\"height:15px;float:right;padding-right:20px;color:#fff\">记住我</el-checkbox>\n            </div>\n            <div style=\"height: 30px\">\n              <el-button type=\"primary\" style=\"width:30%;margin-bottom:30px;border-radius: 20px;\" @click.native.prevent=\"handleRegister\">注册</el-button>\n              <el-button type=\"primary\" style=\"width:30%;margin-bottom:30px;float:right;border-radius: 20px\" @click.native.prevent=\"handleLogin\">登录</el-button>\n            </div>\n          </el-form>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      // 登录表单数据对象\n      loginForm: {\n        username: '傅杰青',\n        password: '123456',\n        isRemember: '0'\n      },\n      loginRules: {\n        username: [\n          { required: true, message: '请输入用户名!', trigger: 'blur' },\n          { min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码!', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    handleLogin () {\n      this.$refs.loginForm.validate(async valid => {\n        if (!valid) return\n        const response = await this.$http.post('user/login', this.loginForm)\n        const { data: result } = response\n        console.log(result)\n        if (result.code === 200) {\n          window.sessionStorage.setItem('head', result.head)\n          window.sessionStorage.setItem('permission',result.permission)\n          window.sessionStorage.setItem('username',result.username)\n          if (this.loginForm.isRemember === '1') window.sessionStorage.setItem('token', result.token_id)\n          this.$message.success('登录成功')\n          this.$router.push({ path: '/index' })\n        } else if (result.code === 500) return this.$message.error(result.msg)\n        else { return this.$message.info('服务器异常') }\n      })\n    },\n    handleRegister () {\n      this.$router.push('/register')\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n  .login-container {\n    /*min-height: 100%;*/\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n    img {\n      height: 100%;\n      width: 100%;\n      border: 0px;\n      vertical-align: middle;\n      /*overflow: hidden;*/\n    }\n    /*overflow: hidden;*/\n  }\n    .login-box {\n      /*position: relative;*/\n      width: 400px;\n      height: 60%;\n      /*background-color: #fff;*/\n      border-radius: 3px;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      /*padding: 160px 35px 0;*/\n      /*margin: 0 auto;*/\n      /*overflow: hidden;*/\n    }\n  .tips {\n    font-size: 26px;\n    color: #f00;\n    margin-bottom: 10px;\n\n    span {\n      &:first-of-type {\n        margin-right: 16px;\n      }\n    }\n  }\n  .title-container {\n    height: 130px;\n    width: 130px;\n    border-radius: 50%;\n    /*border: 1px solid #eee;*/\n    padding: 30px;\n    /*box-shadow: 0 0 10px #ddd;*/\n    /*position: relative;*/\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    /*background-color: #fff;*/\n    img{\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      /*background-color: #eeeeee;*/\n    }\n\n    /*.title {*/\n    /*  font-size: 23px;*/\n    /*  color: #409EFF;*/\n    /*  margin: 0px auto 10px auto;*/\n    /*  text-align: center;*/\n    /*  font-weight: bold;*/\n    /*}*/\n  }\n  .login-form{\n    /*position: absolute;*/\n    bottom: 0;\n    width: 100%;\n    padding: 50px 20px 0 20px;\n    box-sizing: border-box;\n    margin-top: 50px;\n  }\n\n    /*.tips {*/\n    /*  font-size: 14px;*/\n    /*  color: #fff;*/\n    /*  margin-bottom: 10px;*/\n\n    /*  span {*/\n    /*    &:first-of-type {*/\n    /*      margin-right: 16px;*/\n    /*    }*/\n    /*  }*/\n    /*}*/\n    .show-pwd {\n      position: absolute;\n      right: 10px;\n      top: 7px;\n      font-size: 16px;\n      color: #889aa4;\n      cursor: pointer;\n      user-select: none;\n    }\n</style>\n<!--<style lang=\"css\" scoped>-->\n<!--  .login-el-input >>> el-input.test-el-input{-->\n<!--    display: inline-block;-->\n<!--    border: 2px solid;-->\n<!--    height: 47px;-->\n<!--    width: 85%;-->\n<!--    border-radius: 50px;-->\n<!--  }-->\n<!--  .login-el-form-item /deep/ .el-form-item{-->\n<!--    border: 1px solid rgba(0, 0, 0, 1);-->\n<!--    background: rgba(255, 255, 255, 0.5);-->\n<!--    border-radius: 50px;-->\n<!--  }-->\n<!--</style>-->\n<style lang=\"scss\" >\n  /* 修复input 背景不协调 和光标变色 */\n  /* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\n\n  $bg:#fff;\n  $light_gray:#050505;\n  $cursor: #000;\n\n  @supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\n    .login-container .el-input input {\n      color: $cursor;\n    }\n  }\n\n  /* reset element-ui css */\n  /*.login-container {*/\n    .el-input {\n      /*display: inline-block;*/\n      height: 47px;\n      width: 85%;\n      /*background-color: rgba(0,0,0,0.5);*/\n\n      input {\n        background: transparent;\n        border: 0px;\n        /*-webkit-appearance: none;*/\n        border-radius: 0px;\n        padding: 12px 5px 12px 15px;\n        color: $light_gray;\n        height: 47px;\n        caret-color: $cursor;\n\n        &:-webkit-autofill {\n          box-shadow: 0 0 0px 1000px $bg inset !important;\n          -webkit-text-fill-color: $cursor !important;\n        }\n      }\n    }\n\n    .el-form-item {\n      border: 1px solid;\n      background: rgba(255, 255, 255, 0.8);\n      border-radius: 50px;\n      /*color: #11ff22;*/\n    }\n    .el-form-item__error{\n      padding-left: 30px;\n      color: orangered!important;\n    }\n  /*}*/\n</style>\n"]}]}