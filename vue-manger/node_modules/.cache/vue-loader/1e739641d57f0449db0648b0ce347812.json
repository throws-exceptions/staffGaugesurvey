{"remainingRequest":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/diamond/桌面/staffGaugesurvey/vue-manger/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/src/components/Login.vue","mtime":1587973132693},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/diamond/桌面/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDnmbvlvZXooajljZXmlbDmja7lr7nosaEKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICflgoXmnbDpnZInLAogICAgICAgIHBhc3N3b3JkOiAnMTIzNDU2JywKICAgICAgICBpc1JlbWVtYmVyOiAnMCcKICAgICAgfSwKICAgICAgbG9naW5SdWxlczogewogICAgICAgIHVzZXJuYW1lOiBbCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0hJywgdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICAgIHttaW46IDMsIG1heDogMTAsIG1lc3NhZ2U6ICfplb/luqblnKggMyDliLAgMTAg5Liq5a2X56ymJywgdHJpZ2dlcjogJ2JsdXInfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggSEnLCB0cmlnZ2VyOiAnYmx1cid9CiAgICAgICAgXQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVMb2dpbigpIHsKICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybgogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCd1c2VyL2xvZ2luJywgdGhpcy5sb2dpbkZvcm0pCiAgICAgICAgY29uc3Qge2RhdGE6IHJlc3VsdH0gPSByZXNwb25zZQogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCkKICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT09IDIwMCkgewogICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2hlYWQnLCByZXN1bHQuaGVhZCkKICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwZXJtaXNzaW9uJywgcmVzdWx0LnBlcm1pc3Npb24pCiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCByZXN1bHQudXNlcm5hbWUpCiAgICAgICAgICAvLyBpZiAodGhpcy5sb2dpbkZvcm0uaXNSZW1lbWJlciA9PT0gJzEnKSBDb29raWVzLnNldEl0ZW0oJ3Rva2VuJywgcmVzdWx0LnRva2VuX2lkKQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnmbvlvZXmiJDlip8nKQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvaW5kZXgnfSkKICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5jb2RlID09PSA1MDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5tc2cpCiAgICAgICAgZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCfmnI3liqHlmajlvILluLgnKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVSZWdpc3RlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZWdpc3RlcicpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"login-container\">\n    <img src=\"../assets/background.jpg\">\n    <div class=\"login-box\">\n      <div class=\"title-container\" style=\"\">\n        <img src=\"../assets/logo_web.png\">\n        <!--          <h3 class=\"title\">水尺识别系统</h3>-->\n      </div>\n      <div>\n        <el-form class=\"login-form\" ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" auto-complete=\"on\"\n                 label-position=\"left\">\n          <el-form-item prop=\"username\">\n            <el-input v-model=\"loginForm.username\" prefix-icon=\"iconfont icon-people_fill\" placeholder=\"用户名\"></el-input>\n          </el-form-item>\n          <el-form-item prop=\"password\">\n            <el-input\n              v-model=\"loginForm.password\"\n              prefix-icon=\"iconfont icon-lock_fill\"\n              placeholder=\"密码\"\n              type=\"password\"\n              show-password\n              @keyup.enter.native=\"handleLogin\"\n            />\n          </el-form-item>\n          <div style=\"height: 30px\">\n            <el-checkbox v-model=\"loginForm.isRemember\" true-label=\"1\" false-label=\"0\"\n                         style=\"height:15px;float:right;padding-right:20px;color:#fff\">记住我\n            </el-checkbox>\n          </div>\n          <div style=\"height: 30px\">\n            <el-button type=\"primary\" style=\"width:30%;margin-bottom:30px;border-radius: 20px;\"\n                       @click.native.prevent=\"handleRegister\">注册\n            </el-button>\n            <el-button type=\"primary\" style=\"width:30%;margin-bottom:30px;float:right;border-radius: 20px\"\n                       @click.native.prevent=\"handleLogin\">登录\n            </el-button>\n          </div>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'Login',\n    data() {\n      return {\n        // 登录表单数据对象\n        loginForm: {\n          username: '傅杰青',\n          password: '123456',\n          isRemember: '0'\n        },\n        loginRules: {\n          username: [\n            {required: true, message: '请输入用户名!', trigger: 'blur'},\n            {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\n          ],\n          password: [\n            {required: true, message: '请输入密码!', trigger: 'blur'}\n          ]\n        }\n      }\n    },\n    methods: {\n      handleLogin() {\n        this.$refs.loginForm.validate(async valid => {\n          if (!valid) return\n          const response = await this.$http.post('user/login', this.loginForm)\n          const {data: result} = response\n          console.log(result)\n          if (result.code === 200) {\n            window.sessionStorage.setItem('head', result.head)\n            window.sessionStorage.setItem('permission', result.permission)\n            window.sessionStorage.setItem('username', result.username)\n            // if (this.loginForm.isRemember === '1') Cookies.setItem('token', result.token_id)\n            this.$message.success('登录成功')\n            this.$router.push({path: '/index'})\n          } else if (result.code === 500) return this.$message.error(result.msg)\n          else {\n            return this.$message.info('服务器异常')\n          }\n        })\n      },\n      handleRegister() {\n        this.$router.push('/register')\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n\n  .login-container {\n    /*min-height: 100%;*/\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n\n    img {\n      height: 100%;\n      width: 100%;\n      border: 0px;\n      vertical-align: middle;\n      /*overflow: hidden;*/\n    }\n\n    /*overflow: hidden;*/\n  }\n\n  .login-box {\n    /*position: relative;*/\n    width: 400px;\n    height: 60%;\n    /*background-color: #fff;*/\n    border-radius: 3px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    /*padding: 160px 35px 0;*/\n    /*margin: 0 auto;*/\n    /*overflow: hidden;*/\n  }\n\n  .tips {\n    font-size: 26px;\n    color: #f00;\n    margin-bottom: 10px;\n\n    span {\n      &:first-of-type {\n        margin-right: 16px;\n      }\n    }\n  }\n\n  .title-container {\n    height: 130px;\n    width: 130px;\n    border-radius: 50%;\n    /*border: 1px solid #eee;*/\n    padding: 30px;\n    /*box-shadow: 0 0 10px #ddd;*/\n    /*position: relative;*/\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    /*background-color: #fff;*/\n\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      /*background-color: #eeeeee;*/\n    }\n\n    /*.title {*/\n    /*  font-size: 23px;*/\n    /*  color: #409EFF;*/\n    /*  margin: 0px auto 10px auto;*/\n    /*  text-align: center;*/\n    /*  font-weight: bold;*/\n    /*}*/\n  }\n\n  .login-form {\n    /*position: absolute;*/\n    bottom: 0;\n    width: 100%;\n    padding: 50px 20px 0 20px;\n    box-sizing: border-box;\n    margin-top: 50px;\n  }\n\n  /*.tips {*/\n  /*  font-size: 14px;*/\n  /*  color: #fff;*/\n  /*  margin-bottom: 10px;*/\n\n  /*  span {*/\n  /*    &:first-of-type {*/\n  /*      margin-right: 16px;*/\n  /*    }*/\n  /*  }*/\n  /*}*/\n  .show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: #889aa4;\n    cursor: pointer;\n    user-select: none;\n  }\n</style>\n<style scoped>\n  .login-form /deep/ .el-input__inner {\n    display: inline-block;\n    height: 47px;\n    width: 100%;\n    background: rgba(255, 255, 255, 0.8);\n    /*background-color: rgba(0, 0, 0, 0.5);*/\n    border-radius: 50px;\n  }\n</style>\n"]}]}