{"remainingRequest":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/babel-loader/lib/index.js!/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/src/components/Login.vue","mtime":1585747213796},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js","mtime":1585479022913},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/babel-loader/lib/index.js","mtime":1585479022801},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/cache-loader/dist/cjs.js","mtime":1585479022913},{"path":"/home/diamond/桌面/毕设/staffGaugesurvey/vue-manger/node_modules/vue-loader/lib/index.js","mtime":1585479024213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZGlhbW9uZC9cdTY4NENcdTk3NjIvXHU2QkQ1XHU4QkJFL3N0YWZmR2F1Z2VzdXJ2ZXkvdnVlLW1hbmdlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDnmbvlvZXooajljZXmlbDmja7lr7nosaEKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICflgoXmnbDpnZInLAogICAgICAgIHBhc3N3b3JkOiAnMTIzNDU2JywKICAgICAgICBpc1JlbWVtYmVyOiAnMCcKICAgICAgfSwKICAgICAgbG9naW5SdWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNIScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDMsCiAgICAgICAgICBtYXg6IDEwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCAzIOWIsCAxMCDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEhJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVMb2dpbjogZnVuY3Rpb24gaGFuZGxlTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgICAgdmFyIHJlc3BvbnNlLCByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgndXNlci9sb2dpbicsIF90aGlzLmxvZ2luRm9ybSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2hlYWQnLCByZXN1bHQuaGVhZCk7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwZXJtaXNzaW9uJywgcmVzdWx0LnBlcm1pc3Npb24pOwogICAgICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCByZXN1bHQudXNlcm5hbWUpOwogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMubG9naW5Gb3JtLmlzUmVtZW1iZXIgPT09ICcxJykgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzdWx0LnRva2VuX2lkKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eZu+W9leaIkOWKnycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL2luZGV4JwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT09IDUwMCkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5tc2cpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy4kbWVzc2FnZS5pbmZvKCfmnI3liqHlmajlvILluLgnKSk7CgogICAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBoYW5kbGVSZWdpc3RlcjogZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVnaXN0ZXInKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,KADA;AAEA,QAAA,QAAA,EAAA,QAFA;AAGA,QAAA,UAAA,EAAA;AAHA,OAFA;AAOA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,gBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AALA;AAPA,KAAA;AAiBA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,QAAA;AAAA,2EAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,yBAEA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,YAAA,EAAA,KAAA,CAAA,SAAA,CAFA;;AAAA;AAEA,kBAAA,QAFA;AAGA,kBAAA,MAHA,GAGA,QAHA,CAGA,IAHA;AAIA,kBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AAJA,wBAKA,MAAA,CAAA,IAAA,KAAA,GALA;AAAA;AAAA;AAAA;;AAMA,kBAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,MAAA,EAAA,MAAA,CAAA,IAAA;AACA,kBAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,YAAA,EAAA,MAAA,CAAA,UAAA;AACA,kBAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA,EAAA,MAAA,CAAA,QAAA;AACA,sBAAA,KAAA,CAAA,SAAA,CAAA,UAAA,KAAA,GAAA,EAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,MAAA,CAAA,QAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;;AAXA;AAAA;;AAAA;AAAA,wBAYA,MAAA,CAAA,IAAA,KAAA,GAZA;AAAA;AAAA;AAAA;;AAAA,mDAYA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAZA;;AAAA;AAAA,mDAaA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAbA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAeA,KAjBA;AAkBA,IAAA,cAlBA,4BAkBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;AApBA;AArBA,CAAA","sourcesContent":["<template>\n    <div class=\"login-container\">\n      <img src=\"../assets/background.jpg\">\n      <div class=\"login-box\">\n        <div class=\"title-container\" style=\"\">\n          <img src=\"../assets/logo_web.png\">\n<!--          <h3 class=\"title\">水尺识别系统</h3>-->\n        </div>\n        <div>\n          <el-form class=\"login-form\" ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" auto-complete=\"on\" label-position=\"left\">\n            <el-form-item prop=\"username\">\n              <el-input v-model=\"loginForm.username\" prefix-icon=\"iconfont icon-people_fill\" placeholder=\"用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input\n                v-model=\"loginForm.password\"\n                prefix-icon=\"iconfont icon-lock_fill\"\n                placeholder=\"密码\"\n                type=\"password\"\n                show-password\n                @keyup.enter.native=\"handleLogin\"\n              />\n            </el-form-item>\n            <div style=\"height: 30px\">\n              <el-checkbox  v-model=\"loginForm.isRemember\" true-label=\"1\" false-label=\"0\" style=\"height:15px;float:right;padding-right:20px;color:#fff\">记住我</el-checkbox>\n            </div>\n            <div style=\"height: 30px\">\n              <el-button type=\"primary\" style=\"width:30%;margin-bottom:30px;border-radius: 20px;\" @click.native.prevent=\"handleRegister\">注册</el-button>\n              <el-button type=\"primary\" style=\"width:30%;margin-bottom:30px;float:right;border-radius: 20px\" @click.native.prevent=\"handleLogin\">登录</el-button>\n            </div>\n          </el-form>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      // 登录表单数据对象\n      loginForm: {\n        username: '傅杰青',\n        password: '123456',\n        isRemember: '0'\n      },\n      loginRules: {\n        username: [\n          { required: true, message: '请输入用户名!', trigger: 'blur' },\n          { min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码!', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    handleLogin () {\n      this.$refs.loginForm.validate(async valid => {\n        if (!valid) return\n        const response = await this.$http.post('user/login', this.loginForm)\n        const { data: result } = response\n        console.log(result)\n        if (result.code === 200) {\n          window.sessionStorage.setItem('head', result.head)\n          window.sessionStorage.setItem('permission',result.permission)\n          window.sessionStorage.setItem('username',result.username)\n          if (this.loginForm.isRemember === '1') window.sessionStorage.setItem('token', result.token_id)\n          this.$message.success('登录成功')\n          this.$router.push({ path: '/index' })\n        } else if (result.code === 500) return this.$message.error(result.msg)\n        else { return this.$message.info('服务器异常') }\n      })\n    },\n    handleRegister () {\n      this.$router.push('/register')\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n  .login-container {\n    /*min-height: 100%;*/\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n    img {\n      height: 100%;\n      width: 100%;\n      border: 0px;\n      vertical-align: middle;\n      /*overflow: hidden;*/\n    }\n    /*overflow: hidden;*/\n  }\n    .login-box {\n      /*position: relative;*/\n      width: 400px;\n      height: 60%;\n      /*background-color: #fff;*/\n      border-radius: 3px;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      /*padding: 160px 35px 0;*/\n      /*margin: 0 auto;*/\n      /*overflow: hidden;*/\n    }\n  .tips {\n    font-size: 26px;\n    color: #f00;\n    margin-bottom: 10px;\n\n    span {\n      &:first-of-type {\n        margin-right: 16px;\n      }\n    }\n  }\n  .title-container {\n    height: 130px;\n    width: 130px;\n    border-radius: 50%;\n    /*border: 1px solid #eee;*/\n    padding: 30px;\n    /*box-shadow: 0 0 10px #ddd;*/\n    /*position: relative;*/\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    /*background-color: #fff;*/\n    img{\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      /*background-color: #eeeeee;*/\n    }\n\n    /*.title {*/\n    /*  font-size: 23px;*/\n    /*  color: #409EFF;*/\n    /*  margin: 0px auto 10px auto;*/\n    /*  text-align: center;*/\n    /*  font-weight: bold;*/\n    /*}*/\n  }\n  .login-form{\n    /*position: absolute;*/\n    bottom: 0;\n    width: 100%;\n    padding: 50px 20px 0 20px;\n    box-sizing: border-box;\n    margin-top: 50px;\n  }\n\n    /*.tips {*/\n    /*  font-size: 14px;*/\n    /*  color: #fff;*/\n    /*  margin-bottom: 10px;*/\n\n    /*  span {*/\n    /*    &:first-of-type {*/\n    /*      margin-right: 16px;*/\n    /*    }*/\n    /*  }*/\n    /*}*/\n    .show-pwd {\n      position: absolute;\n      right: 10px;\n      top: 7px;\n      font-size: 16px;\n      color: #889aa4;\n      cursor: pointer;\n      user-select: none;\n    }\n</style>\n<!--<style lang=\"css\" scoped>-->\n<!--  .login-el-input >>> el-input.test-el-input{-->\n<!--    display: inline-block;-->\n<!--    border: 2px solid;-->\n<!--    height: 47px;-->\n<!--    width: 85%;-->\n<!--    border-radius: 50px;-->\n<!--  }-->\n<!--  .login-el-form-item /deep/ .el-form-item{-->\n<!--    border: 1px solid rgba(0, 0, 0, 1);-->\n<!--    background: rgba(255, 255, 255, 0.5);-->\n<!--    border-radius: 50px;-->\n<!--  }-->\n<!--</style>-->\n<style lang=\"scss\" >\n  /* 修复input 背景不协调 和光标变色 */\n  /* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\n\n  $bg:#fff;\n  $light_gray:#050505;\n  $cursor: #000;\n\n  @supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\n    .login-container .el-input input {\n      color: $cursor;\n    }\n  }\n\n  /* reset element-ui css */\n  /*.login-container {*/\n    .el-input {\n      /*display: inline-block;*/\n      height: 47px;\n      width: 85%;\n      /*background-color: rgba(0,0,0,0.5);*/\n\n      input {\n        background: transparent;\n        border: 0px;\n        /*-webkit-appearance: none;*/\n        border-radius: 0px;\n        padding: 12px 5px 12px 15px;\n        color: $light_gray;\n        height: 47px;\n        caret-color: $cursor;\n\n        &:-webkit-autofill {\n          box-shadow: 0 0 0px 1000px $bg inset !important;\n          -webkit-text-fill-color: $cursor !important;\n        }\n      }\n    }\n\n    .el-form-item {\n      border: 1px solid;\n      background: rgba(255, 255, 255, 0.8);\n      border-radius: 50px;\n      /*color: #11ff22;*/\n    }\n    .el-form-item__error{\n      padding-left: 30px;\n      color: orangered!important;\n    }\n  /*}*/\n</style>\n"],"sourceRoot":"src/components"}]}